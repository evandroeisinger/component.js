<!DOCTYPE html>
<html>
<head>
  <title>modules.js</title>
  <style type="text/css"></style>
</head>
<body>
<script type="text/javascript" src="../src/modules.js"></script>
<script type="text/javascript">
      
  modules.define('User', function(_name) {
    this.name = _name;
  }, {
    getName: function() {
      this.__emmit('retrive', this.name);
      return this.name;
    },

    setName: function(_name) {
      this.name = _name;
      this.__emmit('update', _name);
    }
  });

  var User = modules.require('User'),
      user = new User('Evandro Eisinger');

  user.__subscribe(['update', 'retrive'], function(data) {
    console.log(data);
  });
</script>
</body>
</html>
